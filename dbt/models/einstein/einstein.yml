version: 2

sources:
  - name: dagster
    description: Raw data from Einstein
    schema: respiratorios
    tables:
      - name: einstein_raw
        meta:
          dagster:
            asset_key: ["einstein_raw"]

models:
  - name: einstein_01_convert_types
    description: Convert data types and rename columns
    columns:
      - name: test_id
        tests: &not_null_warn_error_if_gt_1000
          - not_null:
              config:
                severity: warn
                error_if: ">1000"
      - name: date_testing
        tests:
          *not_null_warn_error_if_gt_1000
      - name: detalhe_exame
        tests:
          *not_null_warn_error_if_gt_1000
      - name: exame
        tests:
          *not_null_warn_error_if_gt_1000